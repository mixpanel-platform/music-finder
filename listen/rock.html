
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="Good Music">
    <meta name="author" content="Scott Marinoff">
    <!-- <link rel="icon" href="../../favicon.ico"> -->

    <title>Rock | Music Finder</title>

    <!-- Mixpanel data analytics -->
    <script type="text/javascript" src="js/musicfinder.js"></script>
    <!-- End Mixpanel script -->

    <script type="text/javascript">
      incrementer = function(property) {
        value = mixpanel.get_property(property);
        update = {}
        if(value && typeof(value) == 'number') {
          update[property] = value +1;
        }

        else {
          update[property] = 1
        }

        mixpanel.register(update);
      };
    </script>

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/css/bootstrap.min.css" integrity="sha384-y3tfxAZXuh4HwSYylfB+J125MxIs6mR5FOHamPBG064zB+AFeWH94NdvaCBm8qnd" crossorigin="anonymous">

    <!-- jQuery CDN -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>

    <!-- Custom styles for this template -->
    <!-- Can hide until implement sign-in -->
    <!-- <link href="jumbotron.css" rel="stylesheet"> -->
  </head>

  <body>

    <script type="text/javascript">
    mixpanel.track('View Page', {
      'Page': 'Rock', 
      "Version": 1.0,
      "$ip":0})
    </script>

    <script>
      $(document).ready(function(){
          $("#rock-text").hide();
          $("#rap-text").hide();
          $("#electronic-text").hide();
          $("#folk-text").hide();

          $("#rock").one("mouseover", function(){
              $("#rock-text").show();
              $("#listen-rock").text("Listen");
              $("html, body").animate({
                scrollTop: $("#listen-rock").offset().top
              }, 2000);
              mixpanel.track("Glimpsed Genre", {
                "Genre":"Rock"});
          });
          $("#rap").one("mouseover", function(){
              $("#rap-text").show();
              $("#listen-rap").text("Listen");
              $("html, body").animate({
                scrollTop: $("#listen-rap").offset().top
              }, 2000);
              mixpanel.track("Glimpsed Genre", {
                "Genre":"Rap"});
          });
          $("#electronic").one("mouseover", function(){
              $("#electronic-text").show();
              $("#listen-electronic").text("Listen");
              $("html, body").animate({
                scrollTop: $("#listen-electronic").offset().top
              }, 2000);
              mixpanel.track("Glimpsed Genre", {
                "Genre":"Electronic"});
          });
          $("#folk").one("mouseover", function(){
              $("#folk-text").show();
              $("#listen-folk").text("Listen");
              $("html, body").animate({
                scrollTop: $("#listen-folk").offset().top
              }, 2000);
              mixpanel.track("Glimpsed Genre", {
                "Genre":"Folk"});
          });
      });
    </script>

    <nav class="navbar navbar-static-top navbar-dark bg-inverse">
      <a class="navbar-brand" href="/">Music Finder</a>
      <ul class="nav navbar-nav">
        <li class="nav-item active">
          <a class="nav-link" href="/">Home <span class="sr-only">(current)</span></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/about.html">About</a>
        </li>
      </ul>
    </nav>

    <!-- Main jumbotron for a primary marketing message or call to action -->
    <div class="jumbotron">
      <div class="container">
        <table>
          <tr>
            <td>
              <div id="player"></div>

              <script>
                // 2. This code loads the IFrame Player API code asynchronously.
                var tag = document.createElement('script');

                tag.src = "https://www.youtube.com/iframe_api";
                var firstScriptTag = document.getElementsByTagName('script')[0];
                firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

                // 3. This function creates an <iframe> (and YouTube player)
                //    after the API code downloads.
                var player;
                function onYouTubeIframeAPIReady() {
                  player = new YT.Player('player', {
                    height: '390',
                    width: '640',
                    videoId: '6OGEiOgv86U',
                    playerVars: { 'autoplay': 0 },
                    events: {
                      'onReady': onPlayerReady,
                      'onStateChange': onPlayerStateChange
                    }
                  });
                }

                // 4. The API will call this function when the video player is ready.
                function onPlayerReady(event) {
                  // event.target.playVideo();
                }

                // 5. The API calls this function when the player's state changes.
                //    The function indicates that when playing a video (state=1),
                //    the player should play for six seconds and then stop.
                var done = false;
                function onPlayerStateChange(event) {
                  if (event.data == YT.PlayerState.PLAYING && !done) {
                    var title = YT.player.getElementsByTagName('title');
                    document.write(title);
                    // setTimeout(stopVideo, 6000);
                    mixpanel.track("Played song", {
                        "Song played": "Doin' the Cockroach", 
                        "Artist": "Modest Mouse", 
                        "Video": "Static", 
                        "Date Last Listened": new Date().toISOString()});
                    mixpanel.people.increment("Total Songs Played", 1);
                    mixpanel.people.append({'Genres enjoyed': "Folk"})
                    done = true;
                  }
                }
                function stopVideo() {
                  player.stopVideo();
                }
              </script>
            </td>
            <script type="text/javascript">
              function buyFunction() {
                $("#buy").text("Thanks!");
                mixpanel.track("Purchased song", {Price: .99, "Song Category" : "Rock"});
                mixpanel.people.track_charge(.99);
                mixpanel.people.increment("Lifetime Value", .99);
                mixpanel.people.set({"Last Purchase Date": new Date().toISOString()});
              }
            </script>
            
            <td valign="top" style="padding: 15px;">
              <h1 class="display-3">Rock</h1><br>
              <p>Rock & Roll is often used as a generic term, but its sound is rarely predictable. From the outset, when the early rockers merged country and blues, rock has been defined by its energy, rebellion and catchy hooks, but as the genre aged, it began to shed those very characteristics, placing equal emphasis on craftmanship and pushing the boundaries of the music. </p><br>
              <button class="btn btn-secondary" id="buy" onclick="buyFunction()">Buy this song!</button>
            
            </td>
          </tr>
        </table>  
      </div>
    </div>

    <div class="container">
      <!-- Example row of columns -->
      <div class="row">
        <div class="col-md-4">
          <h2 id="rap" class="genre">Rap</h2>
          <p id="rap-text">Rap's germination is sometimes attributed to the righteous street poetry of the Last Poets and the Watts Prophets, but it didn't begin to take full shape -- and earn its tag -- until after the Sugarhill Gang released "Rapper's Delight" in 1979. Since then, rap spread from its New York epicenter throughout the remainder of the U.S. (with each region taking on its own specific flavor) and then to countless countries. </p>
          <p><a class="btn btn-secondary" href="/listen/rap.html" role="button" id="listen-rap">Read More &raquo;</a></p>
        </div>
        <div class="col-md-4">
          <h2 id="electronic" class="genre">Electronic</h2>
          <p id="electronic-text">Reaching back to grab the grooves of '70s disco/funk and the gadgets of electronic composition, Electronica soon became a whole new entity in and of itself, spinning off new sounds and subgenres with no end in sight two decades down the pike. Its beginnings came in the post-disco environment of Chicago/New York and Detroit during the 1980s. Though most all early electronica was danceable, by the beginning of the '90s, producers were also making music for the headphones and chill-out areas as well. </p>
          <p><a class="btn btn-secondary" href="/listen/electronic.html" role="button" id="listen-electronic">Read More &raquo;</a></p>
        </div>
        <div class="col-md-4">
          <h2 id="folk" class="genre">Folk</h2>
          <p id="folk-text">Each country has their own folk music, but the genre usually refers to American and British music that has been passed through the generations by oral tradition. It's simple, acoustic-based music that spins everyday events and common people into mythic status. Many traditional folksongs have no known author, they have simply evolved over the years. </p>
          <p><a class="btn btn-secondary" href="/listen/folk.html" role="button" id="listen-folk">Read More &raquo;</a></p>
        </div>
      </div>

      <hr>

    </div> <!-- /container -->


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery.min.js"><\/script>')</script>
    <script src="../js/bootstrap.min.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="../js/ie10-viewport-bug-workaround.js"></script>
  </body>
</html>
